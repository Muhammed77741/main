# üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –°—Ç—Ä–∞—Ç–µ–≥–∏–π: Fibonacci 1.618 vs –¢–µ–∫—É—â–∞—è (Fixed TP)

## üîç –û–±–∑–æ—Ä

–£ –≤–∞—Å –µ—Å—Ç—å **–î–í–ï –≤–µ—Ä—Å–∏–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏**:

1. **–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è** (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ live_bot_mt5_fullauto.py) - **–§–ò–ö–°–ò–†–û–í–ê–ù–ù–´–ï TP**
2. **Fibonacci –≤–µ—Ä—Å–∏—è** (backtest_v12, v13) - **–î–ò–ù–ê–ú–ò–ß–ï–°–ö–ò–ï TP –Ω–∞ –æ—Å–Ω–æ–≤–µ 1.618**

---

## ‚ö° –¢–ï–ö–£–©–ê–Ø –°–¢–†–ê–¢–ï–ì–ò–Ø (Live Bot)

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ–∞–π–ª—ã:
- `live_bot_mt5_fullauto.py`
- `live_bot_mt5_semiauto.py`
- `simplified_smc_strategy.py`

### üìç –õ–æ–≥–∏–∫–∞ Take Profit:

**–§–ò–ö–°–ò–†–û–í–ê–ù–ù–´–ï –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ø—É–Ω–∫—Ç–∞—Ö:**

```python
# LONG TREND
TP1 = Entry + 35 –ø—É–Ω–∫—Ç–æ–≤
TP2 = Entry + 65 –ø—É–Ω–∫—Ç–æ–≤
TP3 = Entry + 100 –ø—É–Ω–∫—Ç–æ–≤
Trailing = 25 –ø—É–Ω–∫—Ç–æ–≤
Timeout = 60 —á–∞—Å–æ–≤

# LONG RANGE
TP1 = Entry + 25 –ø—É–Ω–∫—Ç–æ–≤
TP2 = Entry + 45 –ø—É–Ω–∫—Ç–æ–≤
TP3 = Entry + 65 –ø—É–Ω–∫—Ç–æ–≤
Trailing = 20 –ø—É–Ω–∫—Ç–æ–≤
Timeout = 48 —á–∞—Å–æ–≤

# SHORT TREND
TP1 = Entry - 18 –ø—É–Ω–∫—Ç–æ–≤
TP2 = Entry - 30 –ø—É–Ω–∫—Ç–æ–≤
TP3 = Entry - 42 –ø—É–Ω–∫—Ç–∞
Trailing = 13 –ø—É–Ω–∫—Ç–æ–≤
Timeout = 24 —á–∞—Å–∞
```

### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ - –ª–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å
- ‚úÖ –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å - –≤—Å–µ–≥–¥–∞ –∑–Ω–∞–µ—à—å —Ä–∞–∑–º–µ—Ä TP
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–±—ã–ª–∏
- ‚úÖ –•–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö —Ä—ã–Ω–æ—á–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö

### ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:
- ‚ùå –ù–ï –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ —Ä—ã–Ω–∫–∞
- ‚ùå –ú–æ–∂–µ—Ç –∑–∞–∫—Ä—ã–≤–∞—Ç—å –ø–æ–∑–∏—Ü–∏–∏ —Å–ª–∏—à–∫–æ–º —Ä–∞–Ω–æ –≤ —Ç—Ä–µ–Ω–¥–∞—Ö
- ‚ùå –ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–∞ –≤ –Ω–∏–∑–∫–æ–≤–æ–ª–∞—Ç–∏–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö
- ‚ùå –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ TP –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ –¥–≤–∏–∂–µ–Ω–∏–π

---

## üåü FIBONACCI –°–¢–†–ê–¢–ï–ì–ò–Ø (1.618)

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ–∞–π–ª—ã:
- `backtest_v12_smc_fibonacci.py` - **–ü–æ–ª–Ω–∞—è Fibonacci –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
- `backtest_v13_fib_tp_only.py` - **–¢–æ–ª—å–∫–æ Fibonacci TP (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
- `simplified_smc_strategy.py` (–±–∞–∑–æ–≤–∞—è –ª–æ–≥–∏–∫–∞)

### üìç –õ–æ–≥–∏–∫–∞ Take Profit:

**–î–ò–ù–ê–ú–ò–ß–ï–°–ö–ò–ï –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ Fibonacci Extensions:**

```python
# 1. –ù–∞—Ö–æ–¥–∏–º swing range –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å–≤–µ—á–µ–π
swing_high = recent_data['high'].max()
swing_low = recent_data['low'].min()
swing_range = swing_high - swing_low

# 2. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º TP –æ—Ç swing range
TP1 = Entry + (swing_range √ó 1.272)  # 127.2%
TP2 = Entry + (swing_range √ó 1.618)  # 161.8% - –ó–æ–ª–æ—Ç–æ–µ —Å–µ—á–µ–Ω–∏–µ ‚≠ê
TP3 = Entry + (swing_range √ó 2.000)  # 200.0%

# Trailing –∏ Timeout - –∫–∞–∫ –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏
```

### üî¢ –£—Ä–æ–≤–Ω–∏ Fibonacci:

**Retracement (–¥–ª—è –≤—Ö–æ–¥–∞ –≤ V12):**
- 23.6% - —Å–ª–∞–±—ã–π –æ—Ç–∫–∞—Ç
- 38.2% - —É–º–µ—Ä–µ–Ω–Ω—ã–π –æ—Ç–∫–∞—Ç
- 50.0% - –ø–æ–ª–æ–≤–∏–Ω–∞ –¥–≤–∏–∂–µ–Ω–∏—è
- 61.8% - –∑–æ–ª–æ—Ç–æ–µ —Å–µ—á–µ–Ω–∏–µ (—Å–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π) ‚≠ê
- 78.6% - –≥–ª—É–±–æ–∫–∏–π –æ—Ç–∫–∞—Ç

**Extension (–¥–ª—è TP –≤ V12 –∏ V13):**
- 127.2% - –ø–µ—Ä–≤–∞—è —Ü–µ–ª—å (TP1)
- **161.8%** - **–ó–û–õ–û–¢–û–ï –°–ï–ß–ï–ù–ò–ï** (TP2) ‚≠ê‚≠ê‚≠ê
- 200.0% - –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è —Ü–µ–ª—å (TP3)

### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ‚úÖ **–ê–î–ê–ü–¢–ò–†–£–ï–¢–°–Ø –∫ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏** - –±–æ–ª—å—à–æ–π swing = –±–æ–ª—å—à–∏–µ TP
- ‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –º–∞–≥–Ω–µ—Ç–∏–∑–º–∞ —Ü–µ–Ω—ã** (Fibonacci)
- ‚úÖ –ó–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –±–æ–ª—å—à–µ –ø—Ä–∏–±—ã–ª–∏ –≤ —Ç—Ä–µ–Ω–¥–∞—Ö
- ‚úÖ –ë–æ–ª–µ–µ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–∞ –≤ –Ω–∏–∑–∫–æ–≤–æ–ª–∞—Ç–∏–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö
- ‚úÖ **–ó–æ–ª–æ—Ç–æ–µ —Å–µ—á–µ–Ω–∏–µ 1.618** - –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –≤–µ–∫–∞–º–∏ –≤ –ø—Ä–∏—Ä–æ–¥–µ –∏ —Ä—ã–Ω–∫–∞—Ö

### ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:
- ‚ùå –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- ‚ùå –¢—Ä–µ–±—É–µ—Ç —Ä–∞—Å—á–µ—Ç–∞ swing range –Ω–∞ –∫–∞–∂–¥–æ–º —Å–∏–≥–Ω–∞–ª–µ
- ‚ùå –ú–æ–∂–µ—Ç –¥–∞–≤–∞—Ç—å –æ—á–µ–Ω—å –±–æ–ª—å—à–∏–µ TP –≤ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
- ‚ùå –ù—É–∂–µ–Ω minimum swing range (–º–∏–Ω–∏–º—É–º 10 –ø—É–Ω–∫—Ç–æ–≤)

---

## üìà –î–í–ï –í–ï–†–°–ò–ò FIBONACCI –°–¢–†–ê–¢–ï–ì–ò–ò

### V12: –ü–æ–ª–Ω–∞—è Fibonacci –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
**–§–∞–π–ª:** `backtest_v12_smc_fibonacci.py`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ Fibonacci –¥–ª—è –í–•–û–î–ê (—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–µ—Ç—Ä–µ–π—Å–º–µ–Ω—Ç—É 38.2%, 50%, 61.8%)
- ‚úÖ Fibonacci –¥–ª—è TP (extensions 127.2%, 161.8%, 200%)
- ‚ùå **–§–∏–ª—å—Ç—Ä—É–µ—Ç –ú–ù–û–ì–û —Å–∏–≥–Ω–∞–ª–æ–≤** - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ü–µ–Ω–∞ –Ω–∞ Fib —É—Ä–æ–≤–Ω–µ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ú–µ–Ω—å—à–µ —Å–¥–µ–ª–æ–∫ (–º–Ω–æ–≥–æ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–æ)
- –ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ –≤—Ö–æ–¥—ã
- –ú–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ö–æ—Ä–æ—à–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è

### V13: Fibonacci –¢–û–õ–¨–ö–û –¥–ª—è TP ‚≠ê **–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø**
**–§–∞–π–ª:** `backtest_v13_fib_tp_only.py`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í–°–ï SMC —Å–∏–≥–Ω–∞–ª—ã –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è (–±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏)
- ‚úÖ Fibonacci –¢–û–õ–¨–ö–û –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ TP
- ‚úÖ **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ —Å–∏–≥–Ω–∞–ª—ã V9** + —É–ª—É—á—à–∞–µ—Ç TP

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í—Å–µ —Å–∏–≥–Ω–∞–ª—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã (–Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ—Ç–µ—Ä—è–Ω–æ)
- TP –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç—Å—è –∫ —Ä—ã–Ω–∫—É
- –õ—É—á—à–∏–π –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –≤—Ö–æ–¥–∞–º–∏ –∏ —Ü–µ–ª—è–º–∏

---

## üéØ –ü–†–ò–ú–ï–† –†–ê–°–ß–ï–¢–ê

### –¢–µ–∫—É—â–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è (Fixed TP):
```
Scenario: LONG TREND —Å–∏–≥–Ω–∞–ª
Entry: 2650.00
SL: 2635.00 (15 –ø—É–Ω–∫—Ç–æ–≤ —Ä–∏—Å–∫)

TP1: 2650.00 + 35 = 2685.00
TP2: 2650.00 + 65 = 2715.00
TP3: 2650.00 + 100 = 2750.00

R:R = 100/15 = 6.67:1 (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
```

### Fibonacci —Å—Ç—Ä–∞—Ç–µ–≥–∏—è (Dynamic TP):
```
Scenario: LONG TREND —Å–∏–≥–Ω–∞–ª
Entry: 2650.00
SL: 2635.00 (15 –ø—É–Ω–∫—Ç–æ–≤ —Ä–∏—Å–∫)

Swing range –∑–∞ 50 —Å–≤–µ—á–µ–π:
swing_high = 2680.00
swing_low = 2600.00
swing_range = 80 –ø—É–Ω–∫—Ç–æ–≤

TP1: 2650.00 + (80 √ó 1.272) = 2751.76  (~102–ø)
TP2: 2650.00 + (80 √ó 1.618) = 2779.44  (~129–ø) ‚≠ê
TP3: 2650.00 + (80 √ó 2.000) = 2810.00  (~160–ø)

R:R = 160/15 = 10.67:1 (–∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π)
```

**–†–∞–∑–Ω–∏—Ü–∞:**
- Fixed: TP3 = 100 –ø—É–Ω–∫—Ç–æ–≤ (–≤—Å–µ–≥–¥–∞)
- Fibonacci: TP3 = 160 –ø—É–Ω–∫—Ç–æ–≤ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏)
- **+60% –±–æ–ª—å—à–µ –ø—Ä–∏–±—ã–ª–∏ –ø—Ä–∏ —Ç–æ–π –∂–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏!**

---

## üî¨ –ö–õ–Æ–ß–ï–í–´–ï –†–ê–ó–õ–ò–ß–ò–Ø

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–µ–∫—É—â–∞—è (Fixed) | Fibonacci (1.618) |
|----------|----------------|-------------------|
| **TP —Ä–∞—Å—á–µ—Ç** | –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—É–Ω–∫—Ç—ã | –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π (% –æ—Ç swing) |
| **–ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ —Ä—ã–Ω–∫—É** | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ |
| **–ü—Ä–æ—Å—Ç–æ—Ç–∞** | ‚úÖ –û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–∞—è | ‚ö†Ô∏è –°—Ä–µ–¥–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å |
| **R:R ratio** | –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π | –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π |
| **–í —Ç—Ä–µ–Ω–¥–∞—Ö** | –ú–æ–∂–µ—Ç –∑–∞–∫—Ä—ã–≤–∞—Ç—å—Å—è —Ä–∞–Ω–æ | –ó–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –±–æ–ª—å—à–µ |
| **–í —Ä–µ–π–Ω–¥–∂–µ** | –ú–æ–∂–µ—Ç –±—ã—Ç—å –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–∞ | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–µ–µ |
| **–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è —Ç—Ä–µ–π–¥–µ—Ä–∞** | –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ | –¢—Ä–µ–±—É–µ—Ç –¥–æ–≤–µ—Ä–∏—è –∫ —Å–∏—Å—Ç–µ–º–µ |
| **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** | ‚úÖ Live –±–æ—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç | üìä –¢–æ–ª—å–∫–æ –±—ç–∫—Ç–µ—Å—Ç—ã |

---

## üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å V13 –≤ Live Bot ‚≠ê **–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø**

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –í–∑—è—Ç—å –ª–æ–≥–∏–∫—É –∏–∑ `backtest_v13_fib_tp_only.py`
2. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã `find_swing_range()` –∏ `calculate_fibonacci_tp()` –≤ `live_bot_mt5_fullauto.py`
3. –ó–∞–º–µ–Ω–∏—Ç—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ TP –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ Fibonacci TP
4. –û—Å—Ç–∞–≤–∏—Ç—å –í–°–ï –æ—Å—Ç–∞–ª—å–Ω–æ–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–≤—Ö–æ–¥—ã, SL, trailing, partial close)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—Å–µ —Ç–µ–∫—É—â–∏–µ —Å–∏–≥–Ω–∞–ª—ã
- –£–ª—É—á—à–∞–µ–º —Ç–æ–ª—å–∫–æ —Ä–∞—Å—á–µ—Ç TP
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∏—Å–∫
- –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ —Ä—ã–Ω–∫—É

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å V12 (Full Fibonacci)

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `backtest_v12_smc_fibonacci.py`
2. –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –≤—Ö–æ–¥–æ–≤ –ø–æ Fibonacci retracement
3. –ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–æ–≤–∞—è –ª–æ–≥–∏–∫–∞

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ –≤—Ö–æ–¥—ã
- –í—Ö–æ–¥—ã –Ω–∞ "–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö" —É—Ä–æ–≤–Ω—è—Ö

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –ú–Ω–æ–≥–æ —Å–∏–≥–Ω–∞–ª–æ–≤ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞–µ—Ç—Å—è
- –ú–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ö–æ—Ä–æ—à–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è
- –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞

### –í–∞—Ä–∏–∞–Ω—Ç 3: –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å (Fixed TP)

**–ö–æ–≥–¥–∞ –≤—ã–±—Ä–∞—Ç—å:**
- –ï—Å–ª–∏ —Ç–µ–∫—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–∞—Å —É—Å—Ç—Ä–∞–∏–≤–∞—é—Ç
- –ï—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ —É—Å–ª–æ–∂–Ω—è—Ç—å —Å–∏—Å—Ç–µ–º—É
- –ï—Å–ª–∏ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ—Ç—É

---

## üöÄ –ö–ê–ö –ò–ù–¢–ï–ì–†–ò–†–û–í–ê–¢–¨ FIBONACCI TP –í LIVE BOT

### –®–∞–≥ 1: –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ —Ä–∞—Å—á–µ—Ç–∞ Fibonacci

```python
def find_swing_range(self, df, current_idx, lookback=50):
    """Find swing range for Fibonacci calculations"""
    start_idx = max(0, current_idx - lookback)
    recent_data = df.iloc[start_idx:current_idx]

    if len(recent_data) < 10:
        return None, None, None

    swing_high = recent_data['high'].max()
    swing_low = recent_data['low'].min()
    swing_range = swing_high - swing_low

    # Minimum range check
    if swing_range < 10:
        return None, None, None

    return swing_high, swing_low, swing_range

def calculate_fibonacci_tp(self, entry_price, swing_range, direction):
    """Calculate TP based on Fibonacci extensions"""
    if direction == 'LONG':
        tp1 = entry_price + (swing_range * 1.272)
        tp2 = entry_price + (swing_range * 1.618)  # Golden ratio
        tp3 = entry_price + (swing_range * 2.000)
    else:  # SHORT
        tp1 = entry_price - (swing_range * 1.272)
        tp2 = entry_price - (swing_range * 1.618)  # Golden ratio
        tp3 = entry_price - (swing_range * 2.000)

    return tp1, tp2, tp3
```

### –®–∞–≥ 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–æ–∑–∏—Ü–∏–∏

```python
# –í–ú–ï–°–¢–û:
if direction == 'LONG':
    if regime == 'TREND':
        tp1_price = entry_price + self.long_trend_tp1  # –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
        tp2_price = entry_price + self.long_trend_tp2
        tp3_price = entry_price + self.long_trend_tp3

# –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨:
# Calculate swing range
swing_high, swing_low, swing_range = self.find_swing_range(recent_data, len(recent_data)-1)

if swing_range is not None:
    # Use Fibonacci TP
    tp1_price, tp2_price, tp3_price = self.calculate_fibonacci_tp(
        entry_price, swing_range, direction
    )
else:
    # Fallback to fixed TP if swing range not available
    if direction == 'LONG':
        tp1_price = entry_price + self.long_trend_tp1
        tp2_price = entry_price + self.long_trend_tp2
        tp3_price = entry_price + self.long_trend_tp3
```

### –®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```python
print(f"üìä Fibonacci TP Calculation:")
print(f"   Swing Range: {swing_range:.2f} –ø—É–Ω–∫—Ç–æ–≤")
print(f"   TP1 (127.2%): {tp1_price:.2f} = Entry + {tp1_price-entry_price:.2f}–ø")
print(f"   TP2 (161.8%): {tp2_price:.2f} = Entry + {tp2_price-entry_price:.2f}–ø ‚≠ê")
print(f"   TP3 (200.0%): {tp3_price:.2f} = Entry + {tp3_price-entry_price:.2f}–ø")
```

---

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ë–≠–ö–¢–ï–°–¢–û–í (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã)

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
- `original_vs_fibonacci_comparison.png` - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- `monthly_analysis_fibonacci.py` - –º–µ—Å—è—á–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å Fibonacci

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±—ç–∫—Ç–µ—Å—Ç—ã:
```bash
# V12 - –ø–æ–ª–Ω–∞—è Fibonacci –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
python backtest_v12_smc_fibonacci.py

# V13 - —Ç–æ–ª—å–∫–æ Fibonacci TP (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
python backtest_v13_fib_tp_only.py
```

---

## üéì –ü–û–ß–ï–ú–£ –ó–û–õ–û–¢–û–ï –°–ï–ß–ï–ù–ò–ï 1.618?

**–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞:**
- –ß–∏—Å–ª–æ –§–∏–±–æ–Ω–∞—á—á–∏: 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89...
- –ó–æ–ª–æ—Ç–æ–µ —Å–µ—á–µ–Ω–∏–µ œÜ (phi) = 1.618033988...
- –ö–∞–∂–¥–æ–µ —á–∏—Å–ª–æ / –ø—Ä–µ–¥—ã–¥—É—â–µ–µ ‚Üí —Å—Ç—Ä–µ–º–∏—Ç—Å—è –∫ 1.618

**–í –ø—Ä–∏—Ä–æ–¥–µ:**
- –°–ø–∏—Ä–∞–ª—å —Ä–∞–∫–æ–≤–∏–Ω—ã - 1.618
- –õ–µ–ø–µ—Å—Ç–∫–∏ —Ü–≤–µ—Ç–æ–≤
- –ü—Ä–æ–ø–æ—Ä—Ü–∏–∏ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ —Ç–µ–ª–∞
- –ì–∞–ª–∞–∫—Ç–∏–∫–∏

**–ù–∞ —Ä—ã–Ω–∫–∞—Ö:**
- –ü—Å–∏—Ö–æ–ª–æ–≥–∏—è —Ç–æ–ª–ø—ã
- –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏/—Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è
- "–ú–∞–≥–Ω–µ—Ç–∏–∑–º" —Ü–µ–Ω—ã –∫ —ç—Ç–∏–º —É—Ä–æ–≤–Ω—è–º
- –†–∞–±–æ—Ç–∞–µ—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ 100+ –ª–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

---

## üî• –ú–û–Ø –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø

### ‚≠ê –í–Ω–µ–¥—Ä–∏—Ç—å V13 (Fibonacci TP Only)

**–ü–æ—á–µ–º—É:**
1. ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ
2. ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –í–°–ï —Ç–µ–∫—É—â–∏–µ —Å–∏–≥–Ω–∞–ª—ã
3. ‚úÖ –£–ª—É—á—à–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ä–∞—Å—á–µ—Ç TP
4. ‚úÖ –ê–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
5. ‚úÖ –ó–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –±–æ–ª—å—à–µ –ø—Ä–∏–±—ã–ª–∏ –≤ —Ç—Ä–µ–Ω–¥–∞—Ö
6. ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–µ–µ –≤ –Ω–∏–∑–∫–æ–≤–æ–ª–∞—Ç–∏–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö
7. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ (1.618)

**–†–∏—Å–∫–∏:**
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ demo —Å—á–µ—Ç–µ
- ‚ö†Ô∏è –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Ä–∞—Å—á–µ—Ç swing_range –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- ‚ö†Ô∏è –î–æ–±–∞–≤–∏—Ç—å fallback –Ω–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ TP –µ—Å–ª–∏ swing –Ω–µ –Ω–∞–π–¥–µ–Ω

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –ò–∑—É—á–∏—Ç—å –∫–æ–¥ `backtest_v13_fib_tp_only.py`
2. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –≤ `live_bot_mt5_fullauto.py`
3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ demo 1-2 –Ω–µ–¥–µ–ª–∏
4. –°—Ä–∞–≤–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–µ–π
5. –ï—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ - –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ live

---

## üìû –í–û–ü–†–û–°–´ –î–õ–Ø –û–ë–°–£–ñ–î–ï–ù–ò–Ø

1. **–•–æ—Ç–∏—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Fibonacci TP –≤ live bot?**
2. **–ö–∞–∫—É—é –≤–µ—Ä—Å–∏—é –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ: V12 (full) –∏–ª–∏ V13 (TP only)?**
3. **–ï—Å—Ç—å –ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—ç–∫—Ç–µ—Å—Ç–æ–≤ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è?**
4. **–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –∫–æ–¥–∞?**

---

## üìö –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ú–ê–¢–ï–†–ò–ê–õ–´

**–§–∞–π–ª—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è:**
- `backtest_v13_fib_tp_only.py` - –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ Fibonacci TP
- `backtest_v12_smc_fibonacci.py` - –ø–æ–ª–Ω–∞—è Fibonacci –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- `simplified_smc_strategy.py` - –±–∞–∑–æ–≤–∞—è SMC –ª–æ–≥–∏–∫–∞
- `live_bot_mt5_fullauto.py` - —Ç–µ–∫—É—â–∏–π live bot

**–°—Ç–∞—Ç—å–∏ –æ Fibonacci –≤ —Ç—Ä–µ–π–¥–∏–Ω–≥–µ:**
- Leonardo Fibonacci –∏ —á–∏—Å–ª–æ–≤–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ó–æ–ª–æ—Ç–æ–µ —Å–µ—á–µ–Ω–∏–µ –≤ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º –∞–Ω–∞–ª–∏–∑–µ
- Fibonacci retracements and extensions

---

–ì–æ—Ç–æ–≤–æ! –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞. –•–æ—Ç–∏—Ç–µ —á—Ç–æ–±—ã —è –ø–æ–º–æ–≥ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Fibonacci TP –≤ –≤–∞—à live bot? üöÄ
