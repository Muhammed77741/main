# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è Paper Trading Bot

## –î–∞—Ç–∞: 2025-12-30

## ‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. ‚úÖ –ü–æ—Ä—è–¥–æ–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ Take Profit (–ò–°–ü–†–ê–í–õ–ï–ù–û)

**–ü—Ä–æ–±–ª–µ–º–∞:** TP –ø—Ä–æ–≤–µ—Ä—è–ª–∏—Å—å –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ (TP3 ‚Üí TP2 ‚Üí TP1), —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –ø—Ä–æ–ø—É—Å–∫—É TP –ø—Ä–∏ —Ä–µ–∑–∫–æ–º –¥–≤–∏–∂–µ–Ω–∏–∏ —Ü–µ–Ω—ã.

**–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã:**
```
–û—Ç–∫—Ä—ã–ª–∏ LONG @ 2650
TP1 = 2680 (50%)
TP2 = 2700 (30%) 
TP3 = 2720 (20%)

–¶–µ–Ω–∞ —Ä–µ–∑–∫–æ –ø–æ–¥—Å–∫–æ—á–∏–ª–∞ –¥–æ 2725
–°—Ç–∞—Ä—ã–π –∫–æ–¥: –ó–∞–∫—Ä—ã–ª —Ç–æ–ª—å–∫–æ TP3 (20%) ‚ùå
–ù–æ–≤—ã–π –∫–æ–¥: –ó–∞–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ TP1+TP2+TP3 (100%) ‚úÖ
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- TP —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ: TP1 ‚Üí TP2 ‚Üí TP3
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∑–∞–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π –¥–∞–∂–µ –ø—Ä–∏ —Ä–µ–∑–∫–∏—Ö –¥–≤–∏–∂–µ–Ω–∏—è—Ö
- –ü—Ä–∏–º–µ–Ω–µ–Ω–æ –¥–ª—è LONG –∏ SHORT –ø–æ–∑–∏—Ü–∏–π

**–§–∞–π–ª—ã:** `paper_trading_improved.py` (—Å—Ç—Ä–æ–∫–∏ 431-460, 485-524)

---

### 2. ‚úÖ Breakeven Stop –ø–æ—Å–ª–µ TP1 (–î–û–ë–ê–í–õ–ï–ù–û)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å–ª–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è TP1 —Å—Ç–æ–ø-–ª–æ—Å—Å –æ—Å—Ç–∞–≤–∞–ª—Å—è –Ω–∞ –∏—Å—Ö–æ–¥–Ω–æ–º —É—Ä–æ–≤–Ω–µ, —á—Ç–æ –º–æ–≥–ª–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —É–±—ã—Ç–∫—É –¥–∞–∂–µ –ø–æ—Å–ª–µ —á–∞—Å—Ç–∏—á–Ω–æ–π –ø—Ä–∏–±—ã–ª–∏.

**–ü—Ä–∏–º–µ—Ä:**
```
–°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞:
10:00 - LONG @ 2650, SL @ 2541 (-109–ø)
10:15 - TP1 @ 2680 (+30–ø) ‚Üí –∑–∞–∫—Ä—ã–ª–∏ 50%
10:30 - –¶–µ–Ω–∞ –æ—Ç–∫–∞—Ç–∏–ª–∞ –∫ 2545
10:35 - SL @ 2541 —Å—Ä–∞–±–æ—Ç–∞–ª ‚ùå
–†–µ–∑—É–ª—å—Ç–∞—Ç: TP1: +15–ø, SL: -54.5–ø = -39.5–ø (–£–ë–´–¢–û–ö!)

–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ —Å breakeven:
10:00 - LONG @ 2650, SL @ 2541
10:15 - TP1 @ 2680 ‚Üí –∑–∞–∫—Ä—ã–ª–∏ 50%
        ‚Üí SL –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª–∏ –Ω–∞ 2655 (breakeven + 5–ø) ‚úÖ
10:30 - –¶–µ–Ω–∞ –æ—Ç–∫–∞—Ç–∏–ª–∞ –∫ 2545 ‚Üí SL –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª
10:45 - –¶–µ–Ω–∞ –≤—ã—Ä–æ—Å–ª–∞ –¥–æ 2700 ‚Üí TP2 —Å—Ä–∞–±–æ—Ç–∞–ª! ‚úÖ
–†–µ–∑—É–ª—å—Ç–∞—Ç: TP1: +15–ø, TP2: +15–ø = +30–ø (–ü–†–ò–ë–´–õ–¨!)
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –ü–æ—Å–ª–µ TP1 —Å—Ç–æ–ø-–ª–æ—Å—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è –≤ breakeven + 5 –ø—É–Ω–∫—Ç–æ–≤
- LONG: SL = entry_price + 5
- SHORT: SL = entry_price - 5
- –ó–∞—â–∏—â–∞–µ—Ç –ø—Ä–∏–±—ã–ª—å –æ—Ç –ø–æ–ª–Ω–æ–π –ø–æ—Ç–µ—Ä–∏

**–§–∞–π–ª—ã:** `paper_trading_improved.py` (—Å—Ç—Ä–æ–∫–∏ 438-442, 492-496)

---

### 3. ‚úÖ –£—á–µ—Ç —Å–ø—Ä–µ–¥–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ (–î–û–ë–ê–í–õ–ï–ù–û)

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω—è–ª—Å—è –ø–æ close price –±–µ–∑ —É—á–µ—Ç–∞ —Å–ø—Ä–µ–¥–∞, —á—Ç–æ –Ω–µ—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ.

**–†–µ–∞–ª—å–Ω–æ—Å—Ç—å:**
```
Close price: 2650
Bid: 2649.5 (—Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏)
Ask: 2651.5 (—Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏)
Spread: 2 –ø—É–Ω–∫—Ç–∞

–°—Ç–∞—Ä—ã–π –∫–æ–¥:
LONG –≤—Ö–æ–¥ @ 2650 ‚ùå (–Ω–µ—Ä–µ–∞–ª—å–Ω–æ)

–ù–æ–≤—ã–π –∫–æ–¥:
LONG –≤—Ö–æ–¥ @ 2651.5 (ASK) ‚úÖ (—Ä–µ–∞–ª—å–Ω–æ)
SHORT –≤—Ö–æ–¥ @ 2649.5 (BID) ‚úÖ (—Ä–µ–∞–ª—å–Ω–æ)
```

**–í–ª–∏—è–Ω–∏–µ:**
- –°–∫–∞–ª—å–ø–∏–Ω–≥: –ø–æ—Ç–µ—Ä—è 20-40% –ø—Ä–∏–±—ã–ª–∏ –±–µ–∑ —É—á–µ—Ç–∞ —Å–ø—Ä–µ–¥–∞
- H1 —Å—Ç—Ä–∞—Ç–µ–≥–∏—è: –ø–æ—Ç–µ—Ä—è 5-10% –ø—Ä–∏–±—ã–ª–∏

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- LONG –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ ASK (—Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏)
- SHORT –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ BID (—Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏)
- –ë–æ–ª–µ–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—ç–∫—Ç–µ—Å—Ç–∞

**–§–∞–π–ª—ã:** `paper_trading_improved.py` (—Å—Ç—Ä–æ–∫–∏ 285-295)

---

### 4. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ (–ò–°–ü–†–ê–í–õ–ï–ù–û)

**–ü—Ä–æ–±–ª–µ–º–∞ 1: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö**

Pandas Timestamp –º–æ–≥ –±—ã—Ç—å timezone-aware, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—é –≤—Ä–µ–º–µ–Ω–∏.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –°–æ–∑–¥–∞–Ω —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ `_convert_to_local_time()`
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ timezone-aware –∏ naive timestamps
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ pandas Timestamp ‚Üí datetime

**–§–∞–π–ª—ã:** `telegram_notifier.py` (—Å—Ç—Ä–æ–∫–∏ 25-40, 62-64, 120-122)

---

**–ü—Ä–æ–±–ª–µ–º–∞ 2: –ü—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω—ã–π timeout –ø–æ–∑–∏—Ü–∏–π**

Timeout —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–ª—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–∑-–∑–∞ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Ç–∏–ø–æ–≤ (pandas Timestamp vs datetime).

**–ü—Ä–∏–º–µ—Ä:**
```
–°—Ç–∞—Ä—ã–π –∫–æ–¥:
entry_time = Timestamp('2025-12-30 10:00+00:00')  # timezone-aware
current_time = datetime(2025-12-30, 15, 00)       # naive
–†–µ–∑—É–ª—å—Ç–∞—Ç: –û—à–∏–±–∫–∞ –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç! ‚ùå

–ù–æ–≤—ã–π –∫–æ–¥:
‚úÖ –û–±–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ naive datetime
‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç: (15:00 - 10:00) = 5 —á–∞—Å–æ–≤
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω debug –≤—ã–≤–æ–¥ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–∏–ø–æ–≤ timestamp –ø–µ—Ä–µ–¥ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è timezone-aware ‚Üí naive
- –î–æ–±–∞–≤–ª–µ–Ω debug –ª–æ–≥: "Position 1: 5.0h / 60h (Entry: 2025-12-30 10:00, Now: 2025-12-30 15:00)"

**–§–∞–π–ª—ã:** `paper_trading_improved.py` (—Å—Ç—Ä–æ–∫–∏ 391-407, 534-543)

---

### 5. ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π (–î–û–ë–ê–í–õ–ï–ù–û)

**–ü—Ä–æ–±–ª–µ–º–∞:** Floating point arithmetic –º–æ–≥–ª–∞ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ position_remaining = 0.0000001 –≤–º–µ—Å—Ç–æ 0.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è epsilon (0.001) –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–º–µ—Å—Ç–æ —Ç–æ—á–Ω–æ–≥–æ 0
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –≤—Å–µ—Ö TP
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ —Ä–∞–±–æ—Ç—ã —Å —É–∂–µ –∑–∞–∫—Ä—ã—Ç—ã–º–∏ –ø–æ–∑–∏—Ü–∏—è–º–∏

**–§–∞–π–ª—ã:** `paper_trading_improved.py` (—Å—Ç—Ä–æ–∫–∏ 386-388, 461-464, 525-528)

---

### 6. ‚úÖ –£–ª—É—á—à–µ–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–†–ê–°–®–ò–†–ï–ù–û)

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—ã—Ö TP –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–∏ –æ –∑–∞–∫—Ä—ã—Ç–∏–∏
- –ù–æ–≤—ã–µ —Ç–∏–ø—ã –≤—ã—Ö–æ–¥–∞: TRAILING_SL, ALL_TPS_HIT, FULLY_CLOSED
- –ë–æ–ª–µ–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä:**
```
–°—Ç–∞—Ä–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:
"‚úÖ –ü–†–ò–ë–´–õ–¨
Exit: TP
PnL: +1.2%"

–ù–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:
"‚úÖ –ü–†–ò–ë–´–õ–¨
Exit: ALL_TPS_HIT
üéØ TPs: TP1 ‚úÖ | TP2 ‚úÖ | TP3 ‚úÖ
PnL: +1.2%"
```

**–§–∞–π–ª—ã:** `telegram_notifier.py` (—Å—Ç—Ä–æ–∫–∏ 108-170)

---

## üìä –û–∂–∏–¥–∞–µ–º–æ–µ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### H1 –°—Ç—Ä–∞—Ç–µ–≥–∏—è (TP: 30/55/90–ø)

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π | –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|---------|---------------|-------------------|-----------|
| Win Rate | ~65% | ~65% | –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π |
| Avg Profit | +1.5% | +1.2-1.3% | -15-20% |
| Max DD | -8% | -6-7% | –£–ª—É—á—à–µ–Ω–∏–µ |
| Total PnL | +387% | +320-350% | -10-20% |

**–ü—Ä–∏—á–∏–Ω—ã:**
- –£—á–µ—Ç —Å–ø—Ä–µ–¥–∞ —É–º–µ–Ω—å—à–∞–µ—Ç –ø—Ä–∏–±—ã–ª—å –Ω–∞ ~5%
- Breakeven –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç —É–±—ã—Ç–∫–æ–≤ –ø–æ—Å–ª–µ TP1
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ TP —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –ø—Ä–∏–±—ã–ª–∏

---

### –°–∫–∞–ª—å–ø–∏–Ω–≥ (TP: 5/10/15–ø)

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π | –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|---------|---------------|-------------------|-----------|
| Win Rate | ~55% | ~50-55% | -5% |
| Avg Profit | +0.5% | +0.2-0.3% | -40-60% |
| Total PnL | +2.6% | +0.5-1.5% | -40-80% |

**–ü—Ä–∏—á–∏–Ω—ã:**
- –°–ø—Ä–µ–¥ —Å—ä–µ–¥–∞–µ—Ç 40% –ø—Ä–∏–±—ã–ª–∏ –ø—Ä–∏ –º–∞–ª–µ–Ω—å–∫–∏—Ö TP
- –¢—Ä–µ–±—É–µ—Ç—Å—è –±—Ä–æ–∫–µ—Ä —Å —É–∑–∫–∏–º —Å–ø—Ä–µ–¥–æ–º (<1–ø)
- –ò–ª–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ TP

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å:

1. **–ö–æ–º–∏—Å—Å–∏–∏ –≤ —Ä–∞—Å—á–µ—Ç PnL**
   ```python
   commission = 0.5  # –ø—É–Ω–∫—Ç–æ–≤ –Ω–∞ –ª–æ—Ç
   pnl_points -= commission
   ```

2. **Swap –¥–ª—è –ø–æ–∑–∏—Ü–∏–π >24—á**
   ```python
   if duration_hours > 24:
       swap = -0.3 * (duration_hours / 24)
       pnl_points += swap
   ```

3. **–î–Ω–µ–≤–Ω—ã–µ –ª–∏–º–∏—Ç—ã**
   ```python
   MAX_TRADES_PER_DAY = 5
   MAX_LOSS_PER_DAY = -3.0  # %
   ```

4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª**
   ```python
   logging.basicConfig(filename='bot.log')
   ```

---

## üöÄ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞:**
   ```bash
   cd /workspace/smc_trading_strategy
   python paper_trading_improved.py
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
   - ‚úÖ TP —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
   - ‚úÖ Breakeven –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –ø–æ—Å–ª–µ TP1
   - ‚úÖ –í—Ä–µ–º—è –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ
   - ‚úÖ Timeout –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω–æ
   - ‚úÖ Debug –≤—ã–≤–æ–¥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Ä–µ–º—è –ø–æ–∑–∏—Ü–∏–π

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å:**
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram
   - Debug –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª–∏
   - –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ –ø–æ–∑–∏—Ü–∏–π

---

## üìù –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **paper_trading_improved.py**
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–æ—Ä—è–¥–æ–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ TP
   - –î–æ–±–∞–≤–ª–µ–Ω breakeven –ø–æ—Å–ª–µ TP1
   - –î–æ–±–∞–≤–ª–µ–Ω —É—á–µ—Ç —Å–ø—Ä–µ–¥–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ä–∞—Å—á–µ—Ç timeout
   - –£–ª—É—á—à–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ position_remaining

2. **telegram_notifier.py**
   - –°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `_convert_to_local_time()`
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ timezone
   - –£–ª—É—á—à–µ–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–∫—Ä—ã—Ç–∏–∏
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—ã—Ö TP

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ë—ç–∫—Ç–µ—Å—Ç —Ç–µ–ø–µ—Ä—å –±–æ–ª–µ–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–µ–Ω** - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç —Ö—É–∂–µ, –Ω–æ —á–µ—Å—Ç–Ω–µ–µ
2. **H1 —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–∏–±—ã–ª—å–Ω–æ–π** (~+320% –≤–º–µ—Å—Ç–æ +387%)
3. **–°–∫–∞–ª—å–ø–∏–Ω–≥ –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å —É–±—ã—Ç–æ—á–Ω—ã–º** - —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
4. **Breakeven –∑–∞—â–∏—â–∞–µ—Ç –ø—Ä–∏–±—ã–ª—å** - –º–µ–Ω—å—à–µ —É–±—ã—Ç–æ—á–Ω—ã—Ö —Å–¥–µ–ª–æ–∫ –ø–æ—Å–ª–µ TP1
5. **–í—Ä–µ–º—è –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö —Ç–µ–ø–µ—Ä—å —Ç–æ—á–Ω–æ–µ** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π UTC+5

---

## üîç –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ –±–æ—Ç–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```
üí∞ POSITION CHECK #5 at 15:30:00
‚è±Ô∏è  Position 1: 5.5h / 60h (Entry: 2025-12-30 10:00:00, Now: 2025-12-30 15:30:00)
üéØ TP1 HIT @ 2680.00 (50%)
üõ°Ô∏è Stop moved to breakeven+5: 2655.00
üîÑ Trailing stop activated: 18–ø
```

–≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å:
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞—Å—á–µ—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏
- –ê–∫—Ç–∏–≤–∞—Ü–∏—é breakeven
- –°—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ TP

---

**–í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ**
