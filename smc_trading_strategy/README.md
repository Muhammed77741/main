# SMC Trading Strategy - –£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–æ–º

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–π Smart Money Concepts (SMC) —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–æ–º –∏ –∞–Ω–∞–ª–∏–∑–æ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ SMC

–°—Ç—Ä–∞—Ç–µ–≥–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ Smart Money:

1. **Order Blocks (OB)** - –û—Ä–¥–µ—Ä –±–ª–æ–∫–∏
   - –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–≤–µ—á–∏ –ø–µ—Ä–µ–¥ —Å–∏–ª—å–Ω—ã–º –¥–≤–∏–∂–µ–Ω–∏–µ–º
   - –ó–æ–Ω—ã –≤—Ö–æ–¥–∞ –∏–Ω—Å—Ç–∏—Ç—É—Ü–∏–æ–Ω–∞–ª–æ–≤

2. **Fair Value Gaps (FVG)** - –ì—ç–ø—ã —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏
   - –ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏
   - –ó–æ–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ü–µ–Ω–∞ —Å—Ç—Ä–µ–º–∏—Ç—Å—è –∑–∞–ø–æ–ª–Ω–∏—Ç—å

3. **Break of Structure (BOS)** - –°–ª–æ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
   - –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ç—Ä–µ–Ω–¥–∞
   - –ù–æ–≤—ã–µ –º–∞–∫—Å–∏–º—É–º—ã/–º–∏–Ω–∏–º—É–º—ã

4. **Change of Character (ChoCh)** - –°–º–µ–Ω–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞
   - –†–∞–∑–≤–æ—Ä–æ—Ç —Ç—Ä–µ–Ω–¥–∞
   - –°–º–µ–Ω–∞ —Å –≤–æ—Å—Ö–æ–¥—è—â–µ–≥–æ –Ω–∞ –Ω–∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–µ–Ω–¥ –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç

5. **Liquidity Zones** - –ó–æ–Ω—ã –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏
   - –†–∞–≤–Ω—ã–µ –º–∞–∫—Å–∏–º—É–º—ã/–º–∏–Ω–∏–º—É–º—ã
   - –ú–µ—Å—Ç–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è —Å—Ç–æ–ø-–ª–æ—Å—Å–æ–≤

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
smc_trading_strategy/
‚îú‚îÄ‚îÄ smc_indicators.py      # SMC –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
‚îú‚îÄ‚îÄ smc_strategy.py         # –õ–æ–≥–∏–∫–∞ —Ç–æ—Ä–≥–æ–≤–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
‚îú‚îÄ‚îÄ backtester.py           # –î–≤–∏–∂–æ–∫ –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞
‚îú‚îÄ‚îÄ data_loader.py          # –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ run_backtest.py         # –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ requirements.txt        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README.md               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

## üìä –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫

```bash
python run_backtest.py
```

–≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç –±—ç–∫—Ç–µ—Å—Ç –Ω–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (—Å–∏–º—É–ª—è—Ü–∏—è BTC –∑–∞ –≥–æ–¥).

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `run_backtest.py`:

```python
USE_REAL_DATA = True
SYMBOL = "BTC-USD"  # –∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π —Å–∏–º–≤–æ–ª —Å Yahoo Finance
PERIOD = "1y"       # –ø–µ—Ä–∏–æ–¥: 1d, 5d, 1mo, 3mo, 6mo, 1y, 2y, 5y, 10y, ytd, max
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

–í–∫–ª—é—á–∏—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –≤ `run_backtest.py`:

```python
RUN_OPTIMIZATION = True
```

–≠—Ç–æ –ø–µ—Ä–µ–±–µ—Ä–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –Ω–∞–π–¥–µ—Ç –Ω–∞–∏–ª—É—á—à–∏–µ.

## ‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

### SMCStrategy

- `risk_reward_ratio` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 2.0) - –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ä–∏—Å–∫/–ø—Ä–∏–±—ã–ª—å
- `risk_per_trade` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 0.02) - –†–∏—Å–∫ –Ω–∞ —Å–¥–µ–ª–∫—É (2% –æ—Ç –∫–∞–ø–∏—Ç–∞–ª–∞)
- `use_order_blocks` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: True) - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Order Blocks
- `use_fvg` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: True) - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Fair Value Gaps
- `use_liquidity` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: True) - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–æ–Ω—ã –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏
- `swing_length` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 10) - –î–ª–∏–Ω–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è swing —Ç–æ—á–µ–∫

### Backtester

- `initial_capital` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 10000) - –ù–∞—á–∞–ª—å–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª
- `commission` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 0.001) - –ö–æ–º–∏—Å—Å–∏—è (0.1%)
- `slippage` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 0.0005) - –ü—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ (0.05%)
- `risk_per_trade` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 0.02) - –†–∏—Å–∫ –Ω–∞ —Å–¥–µ–ª–∫—É

## üìà –õ–æ–≥–∏–∫–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

### –£—Å–ª–æ–≤–∏—è –¥–ª—è Long (–ø–æ–∫—É–ø–∫–∞):

1. –¢—Ä–µ–Ω–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–æ—Å—Ö–æ–¥—è—â–∏–º (trend = 1)
2. –û–¥–∏–Ω –∏–∑ —Å–∏–≥–Ω–∞–ª–æ–≤ –≤—Ö–æ–¥–∞:
   - –¶–µ–Ω–∞ –≤ –∑–æ–Ω–µ –±—ã—á—å–µ–≥–æ Order Block
   - –¶–µ–Ω–∞ —Ä–µ—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –±—ã—á–∏–π Fair Value Gap
3. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ: sweep –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ —Å–Ω–∏–∑—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –£—Å–ª–æ–≤–∏—è –¥–ª—è Short (–ø—Ä–æ–¥–∞–∂–∞):

1. –¢—Ä–µ–Ω–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∏—Å—Ö–æ–¥—è—â–∏–º (trend = -1)
2. –û–¥–∏–Ω –∏–∑ —Å–∏–≥–Ω–∞–ª–æ–≤ –≤—Ö–æ–¥–∞:
   - –¶–µ–Ω–∞ –≤ –∑–æ–Ω–µ –º–µ–¥–≤–µ–∂—å–µ–≥–æ Order Block
   - –¶–µ–Ω–∞ —Ä–µ—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –º–µ–¥–≤–µ–∂–∏–π Fair Value Gap
3. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ: sweep –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ —Å–≤–µ—Ä—Ö—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏:

- Stop Loss: –Ω–∏–∂–µ/–≤—ã—à–µ Order Block –∏–ª–∏ FVG
- Take Profit: –Ω–∞ –æ—Å–Ω–æ–≤–µ Risk/Reward —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è
- Position Sizing: –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∏—Å–∫–∞ –Ω–∞ —Å–¥–µ–ª–∫—É

## üìä –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:

1. **–î–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É**:
   - –û–±—â–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å
   - –ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã–∏–≥—Ä—ã—à–Ω—ã—Ö —Å–¥–µ–ª–æ–∫
   - Profit Factor
   - Maximum Drawdown
   - Sharpe Ratio

2. **–§–∞–π–ª —Å —Å–¥–µ–ª–∫–∞–º–∏** (`smc_trades.csv`):
   - –í—Å–µ –¥–µ—Ç–∞–ª–∏ –∫–∞–∂–¥–æ–π —Å–¥–µ–ª–∫–∏
   - –í—Ä–µ–º—è –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞
   - PnL –ø–æ –∫–∞–∂–¥–æ–π —Å–¥–µ–ª–∫–µ

3. **–ì—Ä–∞—Ñ–∏–∫–∏** (`smc_backtest_results.png`):
   - –¶–µ–Ω–∞ —Å —Å–∏–≥–Ω–∞–ª–∞–º–∏ –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞
   - Equity curve
   - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ PnL –ø–æ —Å–¥–µ–ª–∫–∞–º

4. **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏** (`optimization_results.csv`) (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞):
   - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

## üéì –ü—Ä–∏–º–µ—Ä—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```
============================================================
SMC STRATEGY BACKTEST RESULTS
============================================================

üìä CAPITAL
  Initial Capital:     $10,000.00
  Final Capital:       $12,450.00
  Total Return:        $2,450.00
  Total Return %:      24.50%

üìà TRADE STATISTICS
  Total Trades:        45
  Winning Trades:      28
  Losing Trades:       17
  Win Rate:            62.22%
  Average Win:         $150.00
  Average Loss:        -$75.00
  Profit Factor:       2.00

üìâ RISK METRICS
  Max Drawdown:        -8.50%
  Sharpe Ratio:        1.85

üéØ TRADE BREAKDOWN
  Long Trades:         25 (Win Rate: 64.00%)
  Short Trades:        20 (Win Rate: 60.00%)

üö™ EXIT REASONS
  TP                   28
  SL                   15
  SIGNAL               2
============================================================
```

## üîß –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤

–î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥ –≤ –∫–ª–∞—Å—Å `SMCIndicators` –≤ `smc_indicators.py`:

```python
def detect_my_indicator(self, df: pd.DataFrame) -> pd.DataFrame:
    # –í–∞—à–∞ –ª–æ–≥–∏–∫–∞
    return df
```

### –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª –≤—Ö–æ–¥–∞

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –º–µ—Ç–æ–¥ `generate_signals` –≤ `smc_strategy.py`.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–≤–æ–∏—Ö –¥–∞–Ω–Ω—ã—Ö

–°–æ–∑–¥–∞–π—Ç–µ CSV —Ñ–∞–π–ª —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏: `timestamp, open, high, low, close, volume`

```python
from data_loader import load_data_from_csv
df = load_data_from_csv('your_data.csv')
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

### –ö–æ–Ω—Ü–µ–ø—Ü–∏–∏ SMC:
- Order Flow Trading
- Institutional Trading
- Market Structure Analysis
- Liquidity Engineering

### Recommended Reading:
- "Trading in the Zone" - Mark Douglas
- "Market Wizards" - Jack Schwager
- ICT (Inner Circle Trader) materials

## ‚ö†Ô∏è –î–∏—Å–∫–ª–µ–π–º–µ—Ä

–≠—Ç–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π. –ü—Ä–æ—à–ª—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç –±—É–¥—É—â—É—é –ø—Ä–∏–±—ã–ª—å. –í—Å–µ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω–∞ –¥–µ–º–æ-—Å—á–µ—Ç–µ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤.

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

## ü§ù –í–∫–ª–∞–¥

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è —É–ª—É—á—à–µ–Ω–∏—è –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è! –°–æ–∑–¥–∞–≤–∞–π—Ç–µ Issues –∏ Pull Requests.

---

**Happy Trading! üìàüöÄ**
