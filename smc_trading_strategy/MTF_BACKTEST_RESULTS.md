# üìä Multi-Timeframe Backtest - –ö–æ–Ω—Ü–µ–ø—Ü–∏—è –∏ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

## ‚úÖ –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ

–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `multi_timeframe_backtest.py` - –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –±—ç–∫—Ç–µ—Å—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è multi-timeframe —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏.

### üéØ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –±—ç–∫—Ç–µ—Å—Ç:

1. **–ó–∞–≥—Ä—É–∂–∞–µ—Ç H1 –¥–∞–Ω–Ω—ã–µ** (–∏–∑ MT5 –∏–ª–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ)
2. **–°–æ–∑–¥–∞–µ—Ç H4** –∏–∑ H1 —á–µ—Ä–µ–∑ resample (√ó4)
3. **–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç H4 —Ç—Ä–µ–Ω–¥** (UP/DOWN/SIDEWAYS)
4. **–§–∏–ª—å—Ç—Ä—É–µ—Ç H1 —Å–∏–≥–Ω–∞–ª—ã**:
   - ‚úÖ LONG —Å–∏–≥–Ω–∞–ª—ã –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è –µ—Å–ª–∏ H4 —Ç—Ä–µ–Ω–¥ = UP –∏–ª–∏ SIDEWAYS
   - ‚ùå LONG —Å–∏–≥–Ω–∞–ª—ã –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è –µ—Å–ª–∏ H4 —Ç—Ä–µ–Ω–¥ = DOWN
   - ‚úÖ SHORT —Å–∏–≥–Ω–∞–ª—ã –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è –µ—Å–ª–∏ H4 —Ç—Ä–µ–Ω–¥ = DOWN –∏–ª–∏ SIDEWAYS  
   - ‚ùå SHORT —Å–∏–≥–Ω–∞–ª—ã –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è –µ—Å–ª–∏ H4 —Ç—Ä–µ–Ω–¥ = UP

5. **–°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
   - H1 —Ç–æ–ª—å–∫–æ (–±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞)
   - H4+H1 (—Å —Ñ–∏–ª—å—Ç—Ä–æ–º)

---

## üìã –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –±—ç–∫—Ç–µ—Å—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –° MT5 –¥–∞–Ω–Ω—ã–º–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
cd /workspace/smc_trading_strategy
python3 multi_timeframe_backtest.py
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- MT5 –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω
- –ë—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–æ ~2000 —á–∞—Å–æ–≤ H1 –¥–∞–Ω–Ω—ã—Ö XAUUSD
- –°–æ–∑–¥–∞—Å—Ç H4 –∏–∑ H1 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–ß—Ç–æ –ø–æ–ª—É—á–∏—Ç–µ:**
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ H1 vs H4+H1
- –¢–∞–±–ª–∏—Ü—É –º–µ—Ç—Ä–∏–∫
- –ì—Ä–∞—Ñ–∏–∫ `multi_timeframe_comparison.png`
- CSV —Ñ–∞–π–ª—ã —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –¢–µ—Å—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –±—ç–∫—Ç–µ—Å—Ç–∞–º–∏

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–∂–µ –≥–æ—Ç–æ–≤—ã–µ –±—ç–∫—Ç–µ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç–µ:

```bash
# Adaptive TP –±—ç–∫—Ç–µ—Å—Ç
python3 adaptive_tp_backtest.py

# Baseline –±—ç–∫—Ç–µ—Å—Ç
python3 run_backtest.py
```

---

## üéØ –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (–Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)

### H1 —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞:

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| Total Trades | 100 |
| Win Rate | 60-65% |
| Total Return | +50-80% |
| Profit Factor | 1.8-2.2 |
| Max DD | -15-20% |

### H4+H1 —Å —Ñ–∏–ª—å—Ç—Ä–æ–º:

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|---------|----------|-----------|
| Total Trades | 65-75 | **-25-35%** |
| Win Rate | **70-75%** | **+10-15%** ‚úÖ |
| Total Return | +55-85% | **+5-10%** ‚úÖ |
| Profit Factor | **2.2-2.8** | **+15-25%** ‚úÖ |
| Max DD | **-10-15%** | **-30-40%** ‚úÖ |

---

## üí° –í—ã–≤–æ–¥—ã –∏–∑ —Ç–µ–æ—Ä–∏–∏

### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ H4 —Ñ–∏–ª—å—Ç—Ä–∞:

1. **–í—ã—à–µ Win Rate** (+10-15%)
   - –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞–µ—Ç —Å–∏–≥–Ω–∞–ª—ã –ø—Ä–æ—Ç–∏–≤ —Ç—Ä–µ–Ω–¥–∞
   - –û—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—Ö–æ–¥—ã

2. **–í—ã—à–µ Profit Factor** (+15-25%)
   - –ú–µ–Ω—å—à–µ —É–±—ã—Ç–æ—á–Ω—ã—Ö —Å–¥–µ–ª–æ–∫
   - –õ—É—á—à–µ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –ø—Ä–∏–±—ã–ª—å/—É–±—ã—Ç–æ–∫

3. **–ú–µ–Ω—å—à–µ –ø—Ä–æ—Å–∞–¥–∫–∞** (-30-40%)
   - –ò–∑–±–µ–≥–∞–µ–º —Ç–æ—Ä–≥–æ–≤–ª–∏ –ø—Ä–æ—Ç–∏–≤ —Å–∏–ª—å–Ω–æ–≥–æ —Ç—Ä–µ–Ω–¥–∞
   - –ë–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è equity curve

4. **–ö–∞—á–µ—Å—Ç–≤–æ > –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ**
   - –ú–µ–Ω—å—à–µ —Å–¥–µ–ª–æ–∫, –Ω–æ –ø—Ä–∏–±—ã–ª—å–Ω–µ–µ
   - –ú–µ–Ω—å—à–µ —Å—Ç—Ä–µ—Å—Å–∞ –∏ –∫–æ–º–∏—Å—Å–∏–π

### ‚ö†Ô∏è –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:

1. **–ú–µ–Ω—å—à–µ —Å–¥–µ–ª–æ–∫** (-25-35%)
   - –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–∑–≤–æ—Ä–æ—Ç—ã
   - –ú–µ–Ω—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π

2. **–ú–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ä–∞–∑–≤–æ—Ä–æ—Ç—ã —Ç—Ä–µ–Ω–¥–∞**
   - H4 —Ç—Ä–µ–Ω–¥ –º–µ–Ω—è–µ—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–µ–µ
   - –ú–æ–∂–µ–º –æ–ø–æ–∑–¥–∞—Ç—å —Å —Ä–∞–∑–≤–æ—Ä–æ—Ç–æ–º

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞

–í —Ñ–∞–π–ª–µ `multi_timeframe_backtest.py`:

```python
# –ò–∑–º–µ–Ω–∏—Ç—å HTF multiplier
mtf_backtest = MultiTimeframeBacktest(htf_multiplier=4)  # H4

# –î–ª—è –¥—Ä—É–≥–∏—Ö —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤:
htf_multiplier=2  # H2 (–±–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã–π, –±–æ–ª—å—à–µ —Å–¥–µ–ª–æ–∫)
htf_multiplier=3  # H3 (–±–∞–ª–∞–Ω—Å)
htf_multiplier=4  # H4 (–º–µ–¥–ª–µ–Ω–Ω–µ–µ, –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–µ–µ)
htf_multiplier=6  # H6 (–æ—á–µ–Ω—å –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ)
```

### –õ–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç—Ä–µ–Ω–¥–∞:

```python
def detect_h4_trend(self, df_h4, lookback=20):
    # EMA crossover
    # Price movement
    # Returns: 'UP', 'DOWN', 'SIDEWAYS'
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
- `lookback` - —Å–∫–æ–ª—å–∫–æ H4 —Å–≤–µ—á–µ–π —Å–º–æ—Ç—Ä–µ—Ç—å (default: 20)
- –ü–æ—Ä–æ–≥ –¥–ª—è UP/DOWN —Ç—Ä–µ–Ω–¥–∞ (default: ¬±0.2% EMA diff, ¬±1% price change)

---

## üìä –ü—Ä–∏–º–µ—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

### –ü—Ä–∏–º–µ—Ä 1: –û—Ç–∫–ª–æ–Ω–µ–Ω LONG (–ø—Ä–æ—Ç–∏–≤ —Ç—Ä–µ–Ω–¥–∞)

```
H4 Trend: DOWN (-2.5% –∑–∞ 20 —Å–≤–µ—á–µ–π)
H1 Signal: LONG @ 2650
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚ùå –û—Ç–∫–ª–æ–Ω–µ–Ω (–ø—Ä–æ—Ç–∏–≤ H4 —Ç—Ä–µ–Ω–¥–∞)

–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ –±—ã:
- –ë–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞: –≤–æ—à–ª–∏ –≤ LONG @ 2650
- H4 —Ç—Ä–µ–Ω–¥ –ø—Ä–æ–¥–æ–ª–∂–∏–ª—Å—è –≤–Ω–∏–∑
- SL —Å—Ä–∞–±–æ—Ç–∞–ª @ 2640 (-10–ø) ‚ùå

–° —Ñ–∏–ª—å—Ç—Ä–æ–º:
- –°–∏–≥–Ω–∞–ª –æ—Ç–∫–ª–æ–Ω–µ–Ω ‚úÖ
- –ò–∑–±–µ–∂–∞–ª–∏ —É–±—ã—Ç–∫–∞
```

### –ü—Ä–∏–º–µ—Ä 2: –ü—Ä–∏–Ω—è—Ç LONG (–ø–æ —Ç—Ä–µ–Ω–¥—É)

```
H4 Trend: UP (+1.8% –∑–∞ 20 —Å–≤–µ—á–µ–π)
H1 Signal: LONG @ 2650
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –ü—Ä–∏–Ω—è—Ç (—Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å H4 —Ç—Ä–µ–Ω–¥–æ–º)

–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:
- –í–æ—à–ª–∏ –≤ LONG @ 2650
- H4 —Ç—Ä–µ–Ω–¥ –ø—Ä–æ–¥–æ–ª–∂–∏–ª—Å—è –≤–≤–µ—Ä—Ö
- TP1 @ 2680 (+30–ø) ‚úÖ
- TP2 @ 2705 (+55–ø) ‚úÖ
```

### –ü—Ä–∏–º–µ—Ä 3: –ü—Ä–∏–Ω—è—Ç –≤ SIDEWAYS

```
H4 Trend: SIDEWAYS (–±–æ–∫–æ–≤–∏–∫)
H1 Signal: LONG @ 2650
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –ü—Ä–∏–Ω—è—Ç (–≤ –±–æ–∫–æ–≤–∏–∫–µ –ø—Ä–∏–Ω–∏–º–∞–µ–º –≤—Å–µ —Å–∏–≥–Ω–∞–ª—ã)

–õ–æ–≥–∏–∫–∞:
- –í –±–æ–∫–æ–≤–∏–∫–µ –Ω–µ—Ç —Å–∏–ª—å–Ω–æ–≥–æ —Ç—Ä–µ–Ω–¥–∞
- –ú–æ–∂–µ–º —Ç–æ—Ä–≥–æ–≤–∞—Ç—å –≤ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã
- –ü–æ–ª–∞–≥–∞–µ–º—Å—è –Ω–∞ H1 –∞–Ω–∞–ª–∏–∑
```

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ paper_trading_improved.py

### –®–∞–≥ 1: –î–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç

```python
from multi_timeframe import MultiTimeframeData
```

### –®–∞–≥ 2: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å MTF

```python
def __init__(self, ...):
    # –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥
    self.strategy = PatternRecognitionStrategy(fib_mode='standard')
    
    # –î–æ–±–∞–≤–∏—Ç—å MTF
    self.mtf = MultiTimeframeData(htf_multiplier=4)
    self.use_h4_filter = True  # –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä
```

### –®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç—Ä–µ–Ω–¥–∞

```python
def detect_h4_trend(self, df_h4, lookback=20):
    """–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç—Ä–µ–Ω–¥ –Ω–∞ H4"""
    # –ö–æ–¥ –∏–∑ multi_timeframe_backtest.py
    ...
    return 'UP', 'DOWN', –∏–ª–∏ 'SIDEWAYS'
```

### –®–∞–≥ 4: –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å check_for_signals()

```python
def check_for_signals(self):
    # –°–∫–∞—á–∞—Ç—å H1
    df_h1 = self.download_data()
    
    # –°–æ–∑–¥–∞—Ç—å H4
    df_h4 = self.mtf.resample_to_htf(df_h1)
    
    # –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å H4 —Ç—Ä–µ–Ω–¥
    h4_trend = self.detect_h4_trend(df_h4)
    
    # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å H1 —Å–∏–≥–Ω–∞–ª
    df_signals = self.strategy.run_strategy(df_h1.copy())
    last_signal = df_signals.iloc[-1]
    
    # –§–ò–õ–¨–¢–†
    if self.use_h4_filter:
        if last_signal['signal'] == 1 and h4_trend == 'DOWN':
            print(f"‚ùå LONG –æ—Ç–∫–ª–æ–Ω–µ–Ω - H4 —Ç—Ä–µ–Ω–¥ DOWN")
            return  # –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Å–∏–≥–Ω–∞–ª
        elif last_signal['signal'] == -1 and h4_trend == 'UP':
            print(f"‚ùå SHORT –æ—Ç–∫–ª–æ–Ω–µ–Ω - H4 —Ç—Ä–µ–Ω–¥ UP")
            return  # –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Å–∏–≥–Ω–∞–ª
    
    # –ü—Ä–∏–Ω—è—Ç—å —Å–∏–≥–Ω–∞–ª
    print(f"‚úÖ –°–∏–≥–Ω–∞–ª –ø—Ä–∏–Ω—è—Ç - H4 —Ç—Ä–µ–Ω–¥: {h4_trend}")
    self.open_position(last_signal, ...)
```

---

## üìå –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è H1 —Ç–æ—Ä–≥–æ–≤–ª–∏:

**–õ—É—á—à–∏–π –≤—ã–±–æ—Ä:** H4 —Ñ–∏–ª—å—Ç—Ä (htf_multiplier=4) ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
- –ò–¥–µ–∞–ª—å–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ 1:4
- –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∞–µ—Ç Win Rate
- –£–º–µ–Ω—å—à–∞–µ—Ç –ø—Ä–æ—Å–∞–¥–∫—É
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–∫–ª—é—á–∏—Ç—å –¥–ª—è live trading!**

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:

**H2 —Ñ–∏–ª—å—Ç—Ä** (htf_multiplier=2) ‚≠ê‚≠ê‚≠ê
- –ë–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã–π
- –ë–æ–ª—å—à–µ —Å–¥–µ–ª–æ–∫
- –ú–µ–Ω—å—à–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- –î–ª—è –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏

**H6 —Ñ–∏–ª—å—Ç—Ä** (htf_multiplier=6) ‚≠ê‚≠ê
- –û—á–µ–Ω—å –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π
- –ú–∞–ª–æ —Å–¥–µ–ª–æ–∫, –Ω–æ –æ—á–µ–Ω—å –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö
- –î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏

---

## ‚úÖ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –±—ç–∫—Ç–µ—Å—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ MT5 –¥–∞–Ω–Ω—ã–º–∏:**
   ```bash
   python3 multi_timeframe_backtest.py
   ```

2. **–ò–∑—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
   - –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É
   - –ì—Ä–∞—Ñ–∏–∫ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
   - CSV —Ñ–∞–π–ª—ã

3. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ paper_trading_improved.py:**
   - –î–æ–±–∞–≤–∏—Ç—å H4 —Ñ–∏–ª—å—Ç—Ä
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ live –¥–∞–Ω–Ω—ã—Ö
   - –°—Ä–∞–≤–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å/–±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞

4. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
   - –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ htf_multiplier (2, 3, 4, 6)
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ—Ä–æ–≥–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç—Ä–µ–Ω–¥–∞
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–∞—Ö

---

## üìä –§–∞–π–ª—ã

–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ `multi_timeframe_backtest.py` - –≥–ª–∞–≤–Ω—ã–π –±—ç–∫—Ç–µ—Å—Ç
- ‚úÖ `multi_timeframe.py` - —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (MTF —É—Ç–∏–ª–∏—Ç—ã)
- ‚úÖ `MTF_BACKTEST_RESULTS.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)

–ë—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:
- `multi_timeframe_comparison.png` - –≥—Ä–∞—Ñ–∏–∫
- `mtf_trades_h1_only.csv` - —Å–¥–µ–ª–∫–∏ –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞
- `mtf_trades_h4h1.csv` - —Å–¥–µ–ª–∫–∏ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º
- `mtf_comparison.csv` - —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

---

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ**

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±—ç–∫—Ç–µ—Å—Ç –∫–æ–≥–¥–∞ MT5 –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω, –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è H1 vs H4+H1!
