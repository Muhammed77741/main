# üìä –ü–û–õ–ù–´–ô –ê–ù–ê–õ–ò–ó –ë–≠–ö–¢–ï–°–¢–û–í

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
2. [–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –±—ç–∫—Ç–µ—Å—Ç–æ–≤](#—Å–ø–∏—Å–æ–∫-–≤—Å–µ—Ö-–±—ç–∫—Ç–µ—Å—Ç–æ–≤)
3. [–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–∞–∂–¥–æ–≥–æ –±—ç–∫—Ç–µ—Å—Ç–∞](#–¥–µ—Ç–∞–ª—å–Ω—ã–π-–∞–Ω–∞–ª–∏–∑)
4. [–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞](#—Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è-—Ç–∞–±–ª–∏—Ü–∞)
5. [–ö–ª—é—á–µ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã](#–∫–ª—é—á–µ–≤—ã–µ-—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)
6. [–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏](#—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)

---

## üéØ –û–±–∑–æ—Ä

–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–∞–π–¥–µ–Ω–æ **13 —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –±—ç–∫—Ç–µ—Å—Ç–æ–≤** –¥–ª—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ SMC Trading Strategy –Ω–∞ –æ—Å–Ω–æ–≤–µ Pattern Recognition (Fibonacci 1.618).

### –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
- **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:** XAUUSD (–ó–æ–ª–æ—Ç–æ)
- **–¢–∞–π–º—Ñ—Ä–µ–π–º:** H1 (1 —á–∞—Å)
- **–ü–µ—Ä–∏–æ–¥ –¥–∞–Ω–Ω—ã—Ö:** 2024-12-27 –¥–æ 2025-12-27 (1 –≥–æ–¥, 5,895 —Å–≤–µ—á–µ–π)
- **–°—Ç—Ä–∞—Ç–µ–≥–∏—è:** Pattern Recognition Strategy —Å —É—Ä–æ–≤–Ω—è–º–∏ –§–∏–±–æ–Ω–∞—á—á–∏
- **–ë–∞–∑–æ–≤—ã–µ TP:** 30–ø / 50–ø / 80–ø
- **Partial Close:** 50% / 30% / 20%

---

## üìÅ –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –±—ç–∫—Ç–µ—Å—Ç–æ–≤

### 1. **backtest_v2_realistic.py** ‚≠ê [–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø]
**–û–ø–∏—Å–∞–Ω–∏–µ:** –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –±—ç–∫—Ç–µ—Å—Ç V2 —Å–æ –≤—Å–µ–º–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ TP (TP1‚ÜíTP2‚ÜíTP3)
- ‚úÖ Breakeven –ø–æ—Å–ª–µ TP1
- ‚úÖ –£—á–µ—Ç —Å–ø—Ä–µ–¥–∞ (2–ø)
- ‚úÖ –ö–æ–º–∏—Å—Å–∏–∏ (0.5–ø)
- ‚úÖ –°–≤–æ–ø—ã (-0.3–ø/–¥–µ–Ω—å)
- ‚úÖ –î–Ω–µ–≤–Ω—ã–µ –ª–∏–º–∏—Ç—ã (–º–∞–∫—Å 5 —Å–¥–µ–ª–æ–∫/–¥–µ–Ω—å)
- ‚úÖ –¢–æ–ª—å–∫–æ –æ–¥–Ω–∞ –ø–æ–∑–∏—Ü–∏—è

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:** +287.29% –∑–∞ –≥–æ–¥
**Max DD:** -2.11%
**Win Rate:** 62.5%
**Profit Factor:** 49.47

---

### 2. **backtest_v3_fixed.py**
**–û–ø–∏—Å–∞–Ω–∏–µ:** –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –±—ç–∫—Ç–µ—Å—Ç V3 —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –ø–æ–∑–∏—Ü–∏—è–º–∏
- ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –ø–æ–∑–∏—Ü–∏–∏ (–¥–æ 999)
- ‚úÖ Trailing stop –ø–æ—Å–ª–µ TP1 (15–ø)
- ‚úÖ –£–º–µ–Ω—å—à–µ–Ω–Ω—ã–µ TP: 20–ø / 35–ø / 50–ø
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å–∏–º—É–ª—è—Ü–∏–∏ (–Ω–µ—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
- ‚úÖ –£—á–µ—Ç —Å–ø—Ä–µ–¥–∞ –∏ –∫–æ–º–∏—Å—Å–∏–π
- ‚ö†Ô∏è –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –º–æ–≥—É—Ç —É–≤–µ–ª–∏—á–∏—Ç—å —Ä–∏—Å–∫

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–ª–∏—è–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π –Ω–∞ –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å

---

### 3. **backtest_v3_adaptive.py**
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –±—ç–∫—Ç–µ—Å—Ç - –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –º–µ–∂–¥—É TREND –∏ RANGE —Ä–µ–∂–∏–º–∞–º–∏
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä—ã–Ω–æ—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
- üìà **TREND —Ä–µ–∂–∏–º:** TP 30–ø/55–ø/90–ø, trailing 18–ø, timeout 60—á (–Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, –º–æ–≥—É—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)
- üìä **RANGE —Ä–µ–∂–∏–º:** TP 20–ø/35–ø/50–ø, trailing 15–ø, timeout 48—á
- üõ°Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π: –º–∞–∫—Å 5 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- üìâ –ó–∞—â–∏—Ç–∞ –æ—Ç –±–æ–ª—å—à–∏—Ö —É–±—ã—Ç–∫–æ–≤

**–¶–µ–ª—å:** –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–¥ —Ç–µ–∫—É—â–∏–µ —Ä—ã–Ω–æ—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç—Ä–µ–Ω–¥ –ø–æ EMA (50/200), ADX, –Ω–∞–∫–ª–æ–Ω—É —Ü–µ–Ω—ã
- –í —Ç—Ä–µ–Ω–¥–µ - –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ TP
- –í –±–æ–∫–æ–≤–∏–∫–µ - –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–µ TP

---

### 4. **trailing_stop_backtest.py**
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ë—ç–∫—Ç–µ—Å—Ç —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø–∞

**–¢–∏–ø—ã —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø–∞:**
1. **Fixed:** –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç –º–∞–∫—Å–∏–º—É–º–∞/–º–∏–Ω–∏–º—É–º–∞ (–Ω–∞–ø—Ä. 30–ø)
2. **Percent:** –ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –º–∞–∫—Å–∏–º—É–º–∞/–º–∏–Ω–∏–º—É–º–∞ (–Ω–∞–ø—Ä. 1%)
3. **Breakeven then trail:** –°–Ω–∞—á–∞–ª–∞ breakeven, –ø–æ—Ç–æ–º —Ç—Ä–µ–π–ª–∏–Ω–≥

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ —Ç—Ä–µ–π–ª–∏–Ω–≥–∞: 15-30 –ø—É–Ω–∫—Ç–æ–≤
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π TP
- Timeout: 48 —á–∞—Å–æ–≤

**–¶–µ–ª—å:** –ù–∞–π—Ç–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø–∞ –¥–ª—è –º–∞–∫—Å–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–±—ã–ª–∏

---

### 5. **partial_close_backtest.py**
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ë—ç–∫—Ç–µ—Å—Ç —Å —á–∞—Å—Ç–∏—á–Ω—ã–º –∑–∞–∫—Ä—ã—Ç–∏–µ–º –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É—Ä–æ–≤–Ω—è—Ö TP

**–§—É–Ω–∫—Ü–∏–∏:**
- üìä –ê–Ω–∞–ª–∏–∑ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π TP –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- üìà –†–∞—Å—á–µ—Ç Maximum Favorable Excursion (MFE)
- üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É—Ä–æ–≤–Ω—è–º TP –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª–µ–π:
  - TP1 = 50-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å (50% —Å–¥–µ–ª–æ–∫ –¥–æ—Å—Ç–∏–≥–∞—é—Ç)
  - TP2 = 75-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å (25% —Å–¥–µ–ª–æ–∫ –¥–æ—Å—Ç–∏–≥–∞—é—Ç)
  - TP3 = 90-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å (10% —Å–¥–µ–ª–æ–∫ –¥–æ—Å—Ç–∏–≥–∞—é—Ç)

**–¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**
- 3 —É—Ä–æ–≤–Ω—è TP —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è–º–∏
- –ê–Ω–∞–ª–∏–∑ –≤–ª–∏—è–Ω–∏—è —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è –Ω–∞ –∏—Ç–æ–≥–æ–≤—É—é –ø—Ä–∏–±—ã–ª—å

**–¶–µ–ª—å:** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —É—Ä–æ–≤–Ω–∏ TP –∏ –ø—Ä–æ—Ü–µ–Ω—Ç—ã –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏

---

### 6. **tp4_backtest.py**
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ë—ç–∫—Ç–µ—Å—Ç —Å 4 —É—Ä–æ–≤–Ω—è–º–∏ TP (–¥–æ–±–∞–≤–ª–µ–Ω TP4 –¥–ª—è –¥–∞–ª—å–Ω–µ–π —Ü–µ–ª–∏)

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- TP1, TP2, TP3, TP4
- –ì–∏–±–∫–∏–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã –∑–∞–∫—Ä—ã—Ç–∏—è –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ
- Timeout: 48 —á–∞—Å–æ–≤

**–ü—Ä–∏–º–µ—Ä—ã –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:**
- –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π: 15–ø/25–ø/40–ø/60–ø
- –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π: 30–ø/50–ø/80–ø/120–ø
- Balanced: 20–ø/35–ø/55–ø/90–ø

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ 4-–≥–æ TP –æ–±—â—É—é –ø—Ä–∏–±—ã–ª—å

---

### 7. **improved_filters_backtest.py**
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ë—ç–∫—Ç–µ—Å—Ç —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ —Å–∏–≥–Ω–∞–ª–æ–≤

**–§–∏–ª—å—Ç—Ä—ã:**
- üìä –§–∏–ª—å—Ç—Ä –≤—Ä–µ–º–µ–Ω–∏ (—Ç–æ—Ä–≥–æ–≤—ã–µ —Å–µ—Å—Å–∏–∏)
- üìà –§–∏–ª—å—Ç—Ä –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ (ATR)
- üîç –§–∏–ª—å—Ç—Ä –∫–∞—á–µ—Å—Ç–≤–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞
- ‚è∞ –§–∏–ª—å—Ç—Ä —Ä—ã–Ω–æ—á–Ω—ã—Ö —á–∞—Å–æ–≤ (London, NY, Overlap)

**–¶–µ–ª—å:**
- –£–ª—É—á—à–∏—Ç—å –ø—Ä–∏–±—ã–ª—å –ë–ï–ó —Å–∏–ª—å–Ω–æ–≥–æ —É–º–µ–Ω—å—à–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–∏–≥–Ω–∞–ª–æ–≤
- –¢–æ—Ä–≥–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤ –ª—É—á—à–∏–µ —á–∞—Å—ã
- –ò–∑–±–µ–≥–∞—Ç—å –Ω–∏–∑–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ:**
- Original (–±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–æ–≤) vs Filtered

---

### 8. **multi_timeframe_backtest.py**
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ú—É–ª—å—Ç–∏-—Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑ (H1 + H4)

**–õ–æ–≥–∏–∫–∞:**
- H1 –¥–ª—è —Å–∏–≥–Ω–∞–ª–æ–≤ –≤—Ö–æ–¥–∞
- H4 –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç—Ä–µ–Ω–¥–∞
- –¢–æ—Ä–≥–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ H4 —Ç—Ä–µ–Ω–¥—É

**–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:**
- LONG —Å–∏–≥–Ω–∞–ª—ã —Ç–æ–ª—å–∫–æ –ø—Ä–∏ H4 UP —Ç—Ä–µ–Ω–¥–µ
- SHORT —Å–∏–≥–Ω–∞–ª—ã —Ç–æ–ª—å–∫–æ –ø—Ä–∏ H4 DOWN —Ç—Ä–µ–Ω–¥–µ
- –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–∏–≥–Ω–∞–ª—ã –≤ H4 SIDEWAYS

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–¥–∞ H4:**
- EMA 10/20 crossover
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å–≤–µ—á–µ–π
- –ü–æ—Ä–æ–≥: ¬±1% –∏–∑–º–µ–Ω–µ–Ω–∏—è, ¬±0.2% —Ä–∞–∑–Ω–∏—Ü–∞ EMA

**–¶–µ–ª—å:** –£–ª—É—á—à–∏—Ç—å win rate, —Ç–æ—Ä–≥—É—è —Ç–æ–ª—å–∫–æ –ø–æ —Ç—Ä–µ–Ω–¥—É

---

### 9. **adaptive_tp_backtest.py**
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ TP –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞–∑–º–µ—Ä–∞ SL –∫–∞–∂–¥–æ–π —Å–¥–µ–ª–∫–∏

**–õ–æ–≥–∏–∫–∞:**
- TP1 = max(min_tp1, SL √ó 0.8)
- TP2 = max(min_tp2, SL √ó 1.2)
- TP3 = max(min_tp3, SL √ó 1.8)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –∫ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
- –ë–æ–ª—å—à–æ–π SL ‚Üí –±–æ–ª—å—à–∏–µ TP
- –ú–∞–ª—ã–π SL ‚Üí –º–∞–ª—ã–µ TP
- –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ä–∏—Å–∫/–ø—Ä–∏–±—ã–ª—å

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ TP: 30–ø/50–ø/80–ø
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π SL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã: 0.8x / 1.2x / 1.8x

**–¶–µ–ª—å:** –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π risk/reward –¥–ª—è –∫–∞–∂–¥–æ–π —Å–¥–µ–ª–∫–∏

---

### 10. **run_backtest.py**
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—É—Å–∫–∞–ª—å—â–∏–∫ –±–∞–∑–æ–≤–æ–≥–æ –±—ç–∫—Ç–µ—Å—Ç–∞

**–§—É–Ω–∫—Ü–∏–∏:**
- –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö MT5
- –ó–∞–ø—É—Å–∫ Pattern Recognition Strategy
- –ë–∞–∑–æ–≤–∞—è —Å–∏–º—É–ª—è—Ü–∏—è –±–µ–∑ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤
- –ü—Ä–æ—Å—Ç–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –±–µ–∑ —Å–ª–æ–∂–Ω–æ—Å—Ç–µ–π

---

### 11. **run_enhanced_backtest.py**
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ó–∞–ø—É—Å–∫–∞–ª—å—â–∏–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ –±—ç–∫—Ç–µ—Å—Ç–∞

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–ª–∞—Å—Å Backtester
- –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –∫–æ–º–∏—Å—Å–∏–∏ –∏ slippage
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

---

### 12. **run_simplified_backtest.py**
**–û–ø–∏—Å–∞–Ω–∏–µ:** –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –±—ç–∫—Ç–µ—Å—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –ë—ã—Å—Ç—Ä–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –î–ª—è –ø–µ—Ä–≤–∏—á–Ω–æ–π –æ—Ü–µ–Ω–∫–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

---

### 13. **backtester.py**
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö –±—ç–∫—Ç–µ—Å—Ç–æ–≤

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ö–ª–∞—Å—Å Trade –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–¥–µ–ª–æ–∫
- –°–∏–º—É–ª—è—Ü–∏—è –∫–æ–º–∏—Å—Å–∏–π –∏ slippage
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- –†–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫ (Sharpe, Sortino, Max DD, etc.)
- –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ JSON

---

## üìä –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑

### –ö–ª—é—á–µ–≤—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ V2 Realistic

#### ‚ùå –ü–†–û–ë–õ–ï–ú–ê 1: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ TP
**–ë—ã–ª–æ:**
```python
if price >= tp3: close 20%
if price >= tp2: close 30%
if price >= tp1: close 50%
```
–ü—Ä–∏ —Ä–µ–∑–∫–æ–º –¥–≤–∏–∂–µ–Ω–∏–∏ –∑–∞–∫—Ä—ã–≤–∞–ª—Å—è —Ç–æ–ª—å–∫–æ TP3 (20%)!

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
```python
if price >= tp1: close 50%
if price >= tp2: close 30%
if price >= tp3: close 20%
```
–¢–µ–ø–µ—Ä—å –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è –í–°–ï –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ TP.

---

#### ‚ùå –ü–†–û–ë–õ–ï–ú–ê 2: –ù–µ—Ç breakeven –ø–æ—Å–ª–µ TP1
**–ë—ã–ª–æ:**
–ü–æ—Å–ª–µ TP1 SL –æ—Å—Ç–∞–≤–∞–ª—Å—è –Ω–∞ –∏—Å—Ö–æ–¥–Ω–æ–º —É—Ä–æ–≤–Ω–µ (-109–ø).
–†–µ–∑—É–ª—å—Ç–∞—Ç: –æ—Ç–∫–∞—Ç –ø–æ—Å–ª–µ TP1 –º–æ–≥ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —É–±—ã—Ç–∫—É.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
–ü–æ—Å–ª–µ TP1 ‚Üí SL –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è –Ω–∞ entry + 5–ø (breakeven).
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ó–∞—â–∏—Ç–∞ 50% –ø—Ä–∏–±—ã–ª–∏ –≤ 12.5% —Å–¥–µ–ª–æ–∫.

---

#### ‚ùå –ü–†–û–ë–õ–ï–ú–ê 3: –ù–µ—Ç —É—á–µ—Ç–∞ —Å–ø—Ä–µ–¥–∞
**–ë—ã–ª–æ:**
–í—Ö–æ–¥ –ø–æ close price.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- LONG: entry = close + spread/2 (ASK)
- SHORT: entry = close - spread/2 (BID)
- –†–µ–∞–ª—å–Ω–∞—è –ø—Ä–∏–±—ã–ª—å TP1: 28–ø –≤–º–µ—Å—Ç–æ 30–ø (-7%)

---

#### ‚ùå –ü–†–û–ë–õ–ï–ú–ê 4: –ù–µ—Ç –∫–æ–º–∏—Å—Å–∏–π –∏ —Å–≤–æ–ø–æ–≤
**–ë—ã–ª–æ:**
PnL = —Ç–æ–ª—å–∫–æ –¥–≤–∏–∂–µ–Ω–∏–µ —Ü–µ–Ω—ã.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- –ö–æ–º–∏—Å—Å–∏—è: 0.5–ø –Ω–∞ —Å–¥–µ–ª–∫—É
- –°–≤–æ–ø: -0.3–ø/–¥–µ–Ω—å (–µ—Å–ª–∏ >24—á)
- –°—Ä–µ–¥–Ω—è—è –ø–æ—Ç–µ—Ä—è: 0.8-1.1–ø –Ω–∞ —Å–¥–µ–ª–∫—É

---

#### ‚ùå –ü–†–û–ë–õ–ï–ú–ê 5: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
**–ë—ã–ª–æ:**
–ú–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–∑–∏—Ü–∏–π ‚Üí —Ä–∏—Å–∫ –ø–µ—Ä–µ—Ç—Ä–µ–π–¥–∏–Ω–≥–∞.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
–¢–æ–ª—å–∫–æ –æ–¥–Ω–∞ –ø–æ–∑–∏—Ü–∏—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.
–°–¥–µ–ª–æ–∫: 73 ‚Üí 32 (-56%)

---

#### ‚ùå –ü–†–û–ë–õ–ï–ú–ê 6: –ù–µ—Ç –¥–Ω–µ–≤–Ω—ã—Ö –ª–∏–º–∏—Ç–æ–≤
**–ë—ã–ª–æ:**
–ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫ –≤ –¥–µ–Ω—å.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- –ú–∞–∫—Å 5 —Å–¥–µ–ª–æ–∫/–¥–µ–Ω—å
- –ú–∞–∫—Å —É–±—ã—Ç–æ–∫ -3%/–¥–µ–Ω—å
- –°—Ç–æ–ø –ø–æ—Å–ª–µ 5 —É–±—ã—Ç–∫–æ–≤ –ø–æ–¥—Ä—è–¥
- Max DD: -17.36% ‚Üí -2.11% (+87.8%!)

---

## üìà –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –ë—ç–∫—Ç–µ—Å—Ç | –¢–∏–ø | TP —É—Ä–æ–≤–Ω–∏ | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ | –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω | –°–ª–æ–∂–Ω–æ—Å—Ç—å |
|---------|-----|-----------|-------------|--------------|-----------|
| **backtest_v2_realistic** | –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π | 30/50/80–ø | –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è, 1 –ø–æ–∑–∏—Ü–∏—è | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | –°—Ä–µ–¥–Ω—è—è |
| **backtest_v3_fixed** | –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ | 20/35/50–ø | –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–∑–∏—Ü–∏–π, trailing | ‚≠ê‚≠ê‚≠ê‚≠ê | –í—ã—Å–æ–∫–∞—è |
| **backtest_v3_adaptive** | –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π | Trend/Range | –ê–≤—Ç–æ–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤ | ‚≠ê‚≠ê‚≠ê‚≠ê | –í—ã—Å–æ–∫–∞—è |
| **trailing_stop_backtest** | –¢—Ä–µ–π–ª–∏–Ω–≥ | –õ—é–±—ã–µ | 3 —Ç–∏–ø–∞ —Ç—Ä–µ–π–ª–∏–Ω–≥–∞ | ‚≠ê‚≠ê‚≠ê | –°—Ä–µ–¥–Ω—è—è |
| **partial_close_backtest** | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è | –ê–Ω–∞–ª–∏–∑ | –ü–æ–∏—Å–∫ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö TP | ‚≠ê‚≠ê‚≠ê‚≠ê | –°—Ä–µ–¥–Ω—è—è |
| **tp4_backtest** | 4 —É—Ä–æ–≤–Ω—è | 4 TP | –î–∞–ª—å–Ω—è—è —Ü–µ–ª—å (TP4) | ‚≠ê‚≠ê‚≠ê | –ù–∏–∑–∫–∞—è |
| **improved_filters_backtest** | –§–∏–ª—å—Ç—Ä—ã | 30/50/80–ø | –í—Ä–µ–º–µ–Ω–Ω—ã–µ, –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å | ‚≠ê‚≠ê‚≠ê‚≠ê | –°—Ä–µ–¥–Ω—è—è |
| **multi_timeframe_backtest** | MTF | 30/50/80–ø | H4 —Ç—Ä–µ–Ω–¥ —Ñ–∏–ª—å—Ç—Ä | ‚≠ê‚≠ê‚≠ê‚≠ê | –°—Ä–µ–¥–Ω—è—è |
| **adaptive_tp_backtest** | –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π TP | –ù–∞ –æ—Å–Ω–æ–≤–µ SL | Risk/Reward –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π | ‚≠ê‚≠ê‚≠ê | –°—Ä–µ–¥–Ω—è—è |
| **run_backtest** | –ë–∞–∑–æ–≤—ã–π | –ü–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ | –ü—Ä–æ—Å—Ç–∞—è —Å–∏–º—É–ª—è—Ü–∏—è | ‚≠ê‚≠ê | –ù–∏–∑–∫–∞—è |
| **run_enhanced_backtest** | –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π | –ü–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ | –ê–Ω–∞–ª–∏—Ç–∏–∫–∞, –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è | ‚≠ê‚≠ê‚≠ê | –°—Ä–µ–¥–Ω—è—è |
| **run_simplified_backtest** | –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π | –ü–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ | –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ | ‚≠ê‚≠ê | –ù–∏–∑–∫–∞—è |
| **backtester** | –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å | - | –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ | - | –í—ã—Å–æ–∫–∞—è |

---

## üèÜ –ö–ª—é—á–µ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### 1. Backtest V2 Realistic (–õ—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç)

```
Total PnL: +287.29%
Max Drawdown: -2.11%
Win Rate: 62.5% (20/32)
Profit Factor: 49.47
Avg Win: +14.66%
Avg Loss: -0.49%
Trades: 32
```

**–ú–µ—Å—è—á–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- 2024-12: +2.20% (1 —Å–¥–µ–ª–∫–∞)
- 2025-01: +285.68% üî• (24 —Å–¥–µ–ª–∫–∏)
- 2025-02: -0.59% (7 —Å–¥–µ–ª–æ–∫)

**Exit Types:**
- SL: 31.2% (10/32)
- TIMEOUT: 68.8% (22/32)

**TP Hit Rates:**
- TP1: 12.5% (4/32)
- TP2: 0% (0/32) ‚ùå
- TP3: 0% (0/32) ‚ùå

**Breakeven:**
- –°—Ä–∞–±–æ—Ç–∞–ª: 12.5% (4/32)

---

### 2. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: V1 vs V2

| –ú–µ—Ç—Ä–∏–∫–∞ | V1 (—Å—Ç–∞—Ä–∞—è) | V2 (realistic) | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|---------|-------------|----------------|-----------|
| Total PnL | +387.46% | +287.29% | -25.9% ‚¨áÔ∏è |
| Trades | 73 | 32 | -56.2% ‚¨áÔ∏è |
| Win Rate | 67.0% | 62.5% | -4.5% ‚¨áÔ∏è |
| Avg Win | ~+0.23% | +14.66% | +63x ‚¨ÜÔ∏è |
| Avg Loss | ~-0.03% | -0.49% | -16x ‚¨áÔ∏è |
| Max DD | -17.36% | -2.11% | +87.8% ‚¨ÜÔ∏è |
| Profit Factor | N/A | 49.47 | –û—Ç–ª–∏—á–Ω–æ ‚¨ÜÔ∏è |

**–í—ã–≤–æ–¥:** V2 —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–µ–µ, –Ω–æ –≤—Å–µ –µ—â–µ –æ—á–µ–Ω—å –ø—Ä–∏–±—ã–ª—å–Ω–∞!

---

## üîç –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê: TP2 –∏ TP3 –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º—ã

**–î–∞–Ω–Ω—ã–µ:**
- TP1 (30–ø): 12.5% –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
- TP2 (50–ø): 0% –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ ‚ùå
- TP3 (80–ø): 0% –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ ‚ùå

**–ü—Ä–∏—á–∏–Ω–∞:**
- TP —Å–ª–∏—à–∫–æ–º –¥–∞–ª–µ–∫–æ –¥–ª—è H1 —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞
- 68.8% –ø–æ–∑–∏—Ü–∏–π –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è –ø–æ timeout (48—á)
- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –¥–∞–ª—å–Ω–∏—Ö —Ü–µ–ª–µ–π

**–†–µ—à–µ–Ω–∏—è:**

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –£–º–µ–Ω—å—à–∏—Ç—å TP
```
–¢–µ–∫—É—â–∏–µ: 30–ø / 50–ø / 80–ø
–ù–æ–≤—ã–µ:   20–ø / 35–ø / 55–ø
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –£–≤–µ–ª–∏—á–∏—Ç—å timeout
```
–¢–µ–∫—É—â–∏–π: 48—á
–ù–æ–≤—ã–π:   72—á –∏–ª–∏ 96—á
```

#### –í–∞—Ä–∏–∞–Ω—Ç 3: Trailing stop –ø–æ—Å–ª–µ TP1
```python
if tp1_hit:
    trailing_stop = highest_price - 20–ø
```

#### –í–∞—Ä–∏–∞–Ω—Ç 4: Adaptive TP –Ω–∞ –æ—Å–Ω–æ–≤–µ ATR
```python
tp1 = ATR √ó 1.5
tp2 = ATR √ó 2.5
tp3 = ATR √ó 4.0
```

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

#### A. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ TP —É—Ä–æ–≤–Ω–∏
```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: –ú–µ–Ω—å—à–∏–µ TP
python backtest_v2_realistic.py --tp1 20 --tp2 35 --tp3 55

# –í–∞—Ä–∏–∞–Ω—Ç 2: –ë–æ–ª—å—à–∏–π timeout
python backtest_v2_realistic.py --timeout 72

# –í–∞—Ä–∏–∞–Ω—Ç 3: Trailing stop
python trailing_stop_backtest.py --type breakeven_then_trail --distance 15
```

#### B. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã
```bash
# –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
python improved_filters_backtest.py --time-filter london,ny

# Multi-timeframe
python multi_timeframe_backtest.py --htf h4
```

#### C. –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
```bash
# Adaptive TP
python adaptive_tp_backtest.py --ratio 0.8,1.2,1.8

# Adaptive —Ä–µ–∂–∏–º
python backtest_v3_adaptive.py
```

---

### 2. –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

#### A. –†–∞—Å—à–∏—Ä–∏—Ç—å –ø–µ—Ä–∏–æ–¥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –¢–µ–∫—É—â–∏–π: 1 –≥–æ–¥ (2024-2025)
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π: 2-3 –≥–æ–¥–∞
- –¶–µ–ª—å: –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ä—ã–Ω–æ—á–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö

#### B. Walk-forward –∞–Ω–∞–ª–∏–∑
- –ü–µ—Ä–∏–æ–¥ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏: 6 –º–µ—Å—è—Ü–µ–≤
- –ü–µ—Ä–∏–æ–¥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: 3 –º–µ—Å—è—Ü–∞
- Rolling window: –∫–∞–∂–¥—ã–µ 3 –º–µ—Å—è—Ü–∞

#### C. Monte Carlo —Å–∏–º—É–ª—è—Ü–∏—è
- 1000+ –∏—Ç–µ—Ä–∞—Ü–∏–π
- –°–ª—É—á–∞–π–Ω–æ–µ –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏–µ —Å–¥–µ–ª–æ–∫
- –û—Ü–µ–Ω–∫–∞ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

---

### 3. –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

#### A. Real MT5 integration
- Paper trading ‚Üí Real orders
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ demo —Å—á–µ—Ç–µ
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ slippage

#### B. Machine Learning
- –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è TP
- –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä—ã–Ω–æ—á–Ω—ã—Ö —Ä–µ–∂–∏–º–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

#### C. Risk management
- Kelly Criterion –¥–ª—è —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏
- Dynamic position sizing
- Volatility-based stop loss

---

## üìã –ö–∞–∫–æ–π –±—ç–∫—Ç–µ—Å—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

### –î–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö:
1. **run_simplified_backtest.py** - –±—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
2. **run_backtest.py** - –±–∞–∑–æ–≤–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ

### –î–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
1. **partial_close_backtest.py** - –Ω–∞–π—Ç–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ TP
2. **improved_filters_backtest.py** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã
3. **adaptive_tp_backtest.py** - –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### –î–ª—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–π –æ—Ü–µ–Ω–∫–∏:
1. **backtest_v2_realistic.py** ‚≠ê - –õ–£–ß–®–ò–ô –í–´–ë–û–†
2. **backtest_v3_fixed.py** - –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏
3. **backtest_v3_adaptive.py** - –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º

### –î–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤:
1. **trailing_stop_backtest.py** - trailing stop –≤–∞—Ä–∏–∞–Ω—Ç—ã
2. **multi_timeframe_backtest.py** - MTF –∞–Ω–∞–ª–∏–∑
3. **tp4_backtest.py** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π TP —É—Ä–æ–≤–µ–Ω—å

---

## üéØ –í—ã–≤–æ–¥—ã

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. **–°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø—Ä–∏–±—ã–ª—å–Ω–∞** –¥–∞–∂–µ —Å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏ (+287%)
2. **–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫** (Max DD -2.11%)
3. **–í—ã—Å–æ–∫–∏–π Profit Factor** (49.47)
4. **Breakeven –∑–∞—â–∏—â–∞–µ—Ç** –∫–∞–ø–∏—Ç–∞–ª (12.5% —Å–¥–µ–ª–æ–∫)
5. **–î–Ω–µ–≤–Ω—ã–µ –ª–∏–º–∏—Ç—ã** —Ä–∞–±–æ—Ç–∞—é—Ç (DD —É–º–µ–Ω—å—à–∏–ª—Å—è –Ω–∞ 87.8%)

### ‚ö†Ô∏è –ß—Ç–æ –Ω—É–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:
1. **TP2 –∏ TP3 –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º—ã** (0% hit rate)
2. **–ú–Ω–æ–≥–æ timeouts** (68.8% –ø–æ–∑–∏—Ü–∏–π)
3. **TP1 —Ä–µ–¥–∫–æ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è** (12.5% hit rate)
4. **–ù—É–∂–Ω–æ –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö** –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (>1 –≥–æ–¥–∞)

### üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å **—É–º–µ–Ω—å—à–µ–Ω–Ω—ã–µ TP** (20–ø/35–ø/55–ø)
2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å **—É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π timeout** (72—á)
3. –î–æ–±–∞–≤–∏—Ç—å **trailing stop** –ø–æ—Å–ª–µ TP1
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å **–∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ TP** –Ω–∞ –æ—Å–Ω–æ–≤–µ ATR
5. –†–∞—Å—à–∏—Ä–∏—Ç—å **–ø–µ—Ä–∏–æ–¥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** –¥–æ 2-3 –ª–µ—Ç
6. –ü—Ä–æ–≤–µ—Å—Ç–∏ **walk-forward –∞–Ω–∞–ª–∏–∑**

---

## üìû –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ **–∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞** —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:

- ‚úÖ –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –±—ç–∫—Ç–µ—Å—Ç V2 - **–≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é**
- ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ç–ª–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- +287% –∑–∞ –≥–æ–¥
- Max DD -2.11%
- Profit Factor 49.47

**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ live trading:**
- üü° –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ demo —Å—á–µ—Ç–µ
- üü° –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –±–æ–ª—å—à–µ–º –ø–µ—Ä–∏–æ–¥–µ
- üü° –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å TP —É—Ä–æ–≤–Ω–∏
- üü¢ –†–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç –≤–Ω–µ–¥—Ä–µ–Ω

---

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2026-01-06  
**–§–∞–π–ª–æ–≤ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ:** 13  
**–í—Å–µ–≥–æ –±—ç–∫—Ç–µ—Å—Ç —Ñ–∞–π–ª–æ–≤:** 65 Python —Ñ–∞–π–ª–æ–≤ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

**üèÜ –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ô –ë–≠–ö–¢–ï–°–¢: `backtest_v2_realistic.py`**
